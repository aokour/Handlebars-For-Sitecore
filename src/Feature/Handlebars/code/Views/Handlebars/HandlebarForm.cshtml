@using Sitecore.Mvc.Presentation
@using Sitecore.Mvc
@using SF.Foundation.Container
@using SF.Foundation.Structure
@using SF.Foundation.Components
@using SF.Feature.Handlebars

@model RenderingModel

@using (Html.ComponentContainer("Handlebar-Form"))
{
    if (Sitecore.Context.PageMode.IsExperienceEditorEditing)
    {
        <p>Form Placeholder:</p>
        @Html.Sitecore().DynamicPlaceholder("HandlebarTemplates")
        <p>After Submission Placeholder:</p>
        @Html.Sitecore().DynamicPlaceholder("PostHandlebarTemplates")
    }
    else
    {
        using (Html.BeginRouteForm(Sitecore.Mvc.Configuration.MvcSettings.SitecoreRouteName, FormMethod.Post))
        {

            if (HttpContext.Current.Request.RequestType.ToUpper() == "GET")
            {
                @Html.Sitecore().DynamicPlaceholder("HandlebarTemplates")
            }
            else
            {
                 @Html.Sitecore().DynamicPlaceholder("PostHandlebarTemplates")
            }

        }
    }


}

    